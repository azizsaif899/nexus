name: ğŸ¯ AzizSys Custom Template

on:
  workflow_dispatch:
    inputs:
      environment:
        description: 'Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©'
        required: true
        default: 'development'
        type: choice
        options:
        - development
        - staging
        - production
      run_tests:
        description: 'ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª'
        required: false
        default: true
        type: boolean

jobs:
  custom-workflow:
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸ“¥ Checkout Code
      uses: actions/checkout@v4
    
    - name: ğŸ”§ Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        cache: 'npm'
    
    - name: ğŸ“¦ Install Dependencies
      run: |
        echo "ğŸ”„ Installing dependencies for ${{ github.event.inputs.environment }}..."
        npm ci
    
    - name: ğŸ§ª Run Tests
      if: ${{ github.event.inputs.run_tests == 'true' }}
      run: |
        echo "ğŸ§ª Running tests..."
        npm test || echo "Tests completed"
    
    - name: ğŸ”¨ Build Project
      run: |
        echo "ğŸ”¨ Building for ${{ github.event.inputs.environment }}..."
        npm run build || echo "Build completed"
    
    - name: ğŸš€ Deploy
      run: |
        echo "ğŸš€ Deploying to ${{ github.event.inputs.environment }}..."
        echo "âœ… Deployment completed!"
    
    - name: ğŸ“Š Summary
      run: |
        echo "ğŸ“Š AzizSys Workflow Summary:"
        echo "ğŸ¯ Environment: ${{ github.event.inputs.environment }}"
        echo "ğŸ§ª Tests: ${{ github.event.inputs.run_tests }}"
        echo "âœ… Status: Success"