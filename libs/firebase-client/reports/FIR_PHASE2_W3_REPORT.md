# ๐ ุชูุฑูุฑ ุฅูุฌุงุฒ: ุทุจูุฉ ุฎุฏูุฉ ุงููุฑุงุณูุฉ (ุงููุฑุญูุฉ 2 - ุงูุนูู 3)

## ๐ ููุฎุต

ุชู ุจูุฌุงุญ ุฅููุงู ุงูุนูู ุงูุซุงูุซ ูู ุงููุฑุญูุฉ ุงูุซุงููุฉ (`FIR-PHASE2-W3`). ุงููุฏู ูู ูุฐุง ุงูุนูู ูุงู ุชูุณูุน ููุชุจุฉ `@monorepo/firebase-client` ูุชุดูู ุฎุฏูุฉ ูุฌุฑุฏุฉ ูุฅุฏุงุฑุฉ **ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุฉ (Push Notifications)** ุจุงุณุชุฎุฏุงู Firebase Cloud Messaging (FCM).

ูุฐุง ุงูุฅูุฌุงุฒ ูููู ูุฌููุนุฉ ุงูุฎุฏูุงุช ุงูุฃุณุงุณูุฉ ููููุชุจุฉุ ููููุฑ ูุงุฌูุฉ ุจุฑูุฌูุฉ ูุธููุฉ ูุจุณูุทุฉ ููุชุนุงูู ูุน ููุทู ุงูุฅุดุนุงุฑุงุช ุงููุนูุฏุ ููุง ูููู ุงููุทูุฑูู ูู ุฏูุฌ ูุฐู ุงูููุฒุฉ ุจุณูููุฉ ูู ุชุทุจููุงุชูู.

---

## ๐ ุงูููุฒุงุช ุงููุญููุฉ

### โ๏ธ ุฎุฏูุฉ ุงููุฑุงุณูุฉ (`MessagingService`)
- โ **ุฅูุดุงุก ูุฆุฉ ุงูุฎุฏูุฉ:** ุชู ุฅูุดุงุก ูุฆุฉ `MessagingService` ูู Singleton ูุถูุงู ูุฌูุฏ ูุณุฎุฉ ูุงุญุฏุฉ ููุท ูู ุงูุฎุฏูุฉ.
- โ **ุชุบููู ููุทู FCM:** ุชู ุชุบููู ูุธุงุฆู Firebase Messaging ุงูุฃุณุงุณูุฉ ุฏุงุฎู ุทุฑู ูุงุถุญุฉ ููุญุฏุฏุฉ ุงูุบุฑุถ.
- โ **ุงูุชุนุงูู ูุน ุจูุฆุฉ ุงูุชุดุบูู:** ุชู ุงูุชุฃูุฏ ูู ุฃู ุงูุฎุฏูุฉ ุชุนูู ููุท ูู ุจูุฆุฉ ุงููุชุตูุญุ ุญูุซ ุฅู FCM ุบูุฑ ูุฏุนูู ูู ุจูุฆุงุช ุฃุฎุฑู (ูุซู ุงูุฎูุงุฏู).
- โ **ุงููุธุงุฆู ุงููููุฐุฉ:**
    - `requestPermissionAndGetToken()`: ูุทูุจ ุฅุฐู ุนุฑุถ ุงูุฅุดุนุงุฑุงุช ูู ุงููุณุชุฎุฏูุ ููู ุญุงู ุงูููุงููุฉุ ุงูุญุตูู ุนูู ุชููู ุงูุฌูุงุฒ (FCM Token).
    - `onForegroundMessage()`: ูุฅุนุฏุงุฏ ูุณุชูุน (listener) ูุนุงูุฌ ุงูุฅุดุนุงุฑุงุช ุงููุงุฑุฏุฉ ุนูุฏูุง ูููู ุงูุชุทุจูู ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (foreground).

### โ๏ธ ุฅุนุฏุงุฏุงุช ุงูุชููุฆุฉ (`messaging.config.ts`)
- โ **ุฅูุดุงุก ููู ุฅุนุฏุงุฏ:** ุชู ุฅูุดุงุก ููู ุฎุงุต ูุชููุฆุฉ ุฎุฏูุฉ `Messaging` ูู Firebase.
- โ **ุชุตุฏูุฑ ููุญุฏ:** ุชู ุชุตุฏูุฑ ูุซูู `Messaging` ููููู ูุชุงุญูุง ููุงุณุชุฎุฏุงู ุฏุงุฎู `MessagingService`.

### ๐งฉ ุชุญุณููุงุช ูููููุฉ
- โ **ูุงุฌูุฉ ุจุฑูุฌูุฉ ุจุณูุทุฉ:** ูููู ูููุทูุฑูู ุงูุขู ุงุณุชุฏุนุงุก ุทุฑู ูุซู `messagingService.requestPermissionAndGetToken(VAPID_KEY)` ุจุฏูุงู ูู ูุชุงุจุฉ ุงูููุฏ ุงููุนูุฏ ููุชุนุงูู ูุน ุฃุฐููุงุช ุงููุชุตูุญ ู Firebase SDK.
- โ **ุชุตุฏูุฑ ุดุงูู:** ุชู ุชุตุฏูุฑ ุงูุฎุฏูุฉ ูููู ุงูุฅุนุฏุงุฏ ูู ููุทุฉ ุงูุฏุฎูู ุงูุฑุฆูุณูุฉ ููููุชุจุฉ (`index.ts`)ุ ููุง ูุถูู ุณูููุฉ ุงููุตูู ุฅูููุง.

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ/ุงูููุดุฃุฉ

- **ูููุงุช ููุดุฃุฉ:**
  - `libs/firebase-client/src/lib/config/messaging.config.ts`
  - `libs/firebase-client/src/lib/services/messaging.service.ts`
  - `libs/firebase-client/reports/FIR_PHASE2_W3_REPORT.md` (ูุฐุง ุงูุชูุฑูุฑ)

- **ููู ูุนุฏู:**
  - `libs/firebase-client/src/index.ts` (ูุฅุถุงูุฉ ุชุตุฏูุฑ ุงูุฎุฏูุฉ ูููู ุงูุฅุนุฏุงุฏ ุงูุฌุฏูุฏูู)

---

## โ ุงูุชูุงู ุงูุนูู ุงูุซุงูุซ

ุจูุฐุงุ ุชู ุงูุงูุชูุงุก ูู ุฌููุน ุงูููุงู ุงููุฎุทุท ููุง ูู `Work-item 3`. ููุฏ ูุฌุญูุง ูู ุจูุงุก ุทุจูุฉ ุฎุฏูุฉ ูููุฉ ููุชุนุงูู ูุน ุงูุฅุดุนุงุฑุงุชุ ููุง ูุฌุนู ููุชุจุฉ `@monorepo/firebase-client` ุงูุขู ุญูุงู ุฃูุซุฑ ุชูุงููุงู ูููุฉ.